<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE keyboard SYSTEM "file://localhost/System/Library/DTDs/KeyboardLayout.dtd"><!--    Configuração de Teclado de Desktop para ABNT2, Versão: 0.1   (Março de 2011)         Escrito por: Rodrigo Zanatta Silva - rodrigozanattasilva@gmail.com                Editar:        1 -> Para entender como funciona esse script, por favor leia:         http://developer.apple.com/library/mac/#technotes/tn2002/tn2056.html                 2 -> Foi usado apenas editor de texto, não use o Ukelele.                3 -> Para ver os erros de programação desse script, basta, após de salvo, mover o arquivo        *.bundle para a pasta "/Biblioteca/Keyboard Layouts/" e ver a mensagem no programa "Console"        do Mac OS X (faça a busca que você tem)                4 -> Para recarregar o script, depois que ele for válido, faça o logout e o login.                Notas para versão do Notebook:         1 -> Em relação ao teclado do Mac Book e do teclado de Computador ABNT2, existem a seguinte             diferenças no retangulo principal             (A) Linha 1 (numeros: '1234...) : Nenhuma diferença             (B) Linha 2 (letras : qwert...) : Uma tecla a mais (o botão enter é menor)             (C) Linha 3 (letras : asdfg...) : Uma tecla a menos             (D) Linha 4 (letras : zxcvb...) : DUAS tecla a menos                          Para adaptar o ABNT2 para o Mac Book, primeiro a tecla da linha 3 foi para a linha 2,        isso é bem trivial de se ver. O problema foi na Linha 4, pois temos 2 tecla a menos, os        seguintes caracteres tiveram problemas:             (A) index="0" - \ e /   (Nenhuma tecla auxiliar precionada)             (B) index="1" - | e ?   (Tecla shift precionada)             (C) index="2" - \ e /   (capslock ativado)             (D) index="3" - º e ̣   (Tecla Alt ativado)             (E) index="4" - § e °   (Teclas Alt + Shift + Super precionadas)             (F) index="5" - ± e ?   (Teclas Alt e Capslock)                          Os caracteres de (D) a (F) não são importantes e não farão muita falta. Para escrever        os outros, as seguintes escolhas foram feitas:             Apenas para o index="3"  (ou seja, Alt precionado)             (A) Q já produz /               (B) W já produz ?               (C) Z foi substituido por \   (caracter « será perdido)             (D) X foi substituido por |   (caracter » será perdido)                Notas:        1 -> Todas as teclas foram mapeadas de acordo com o reproduzido pelo Linux Ubuntu para         ABNT2.                 2 -> Quando um acento é escrito em uma letra que não possui, como "q", pode ser feitas duas         escolhas: Imprimir acento e letra "´q", "~q", "^q" ou não imprimir nada. Eu escolhi a         segunda opção, pois quem comete esse erro, certamente vai apagar e escrever novamente.                 3 -> Mesmo com o artigo da apple falando ser possível diferenciar teclas de comando em        ambos lados (como ALT esquerdo e ALT direito), isso não funciona. Assim como todos os         códigos funcionais do ASCII. Esse script é APENAS para output de caracteres e nada mais.                4 -> Existem alguns raros caracteres que aceitam dois acentos ao mesmo tempo. Como isso é         dificilmente usado (quiça nunca), eu deixei para depois. Eis os caracteres:        ṹṍṸṌ   (' E ~)    ếốấẾỐẤ(^ e é)         ềồầỀỒẦ (^ e `)    ǘḯǗḮ (ü e é)         ǜǛ     (¨ E `)      Ṏṏ (¨ E ~)                Erros Conhecidos:        1 -> Se ficar precionado a uma letra e antes disso ter precionado um acento, ela só reproduz        com acento: áááááááááááá  onde o correto seria: áaaaaaaaaa. Foi testado no  Linux e Windows         e o que acontece é a segunda (áaaa).                 2 -> O "Num Lock" não tem seu estado salvo. No windows e linux, é possível mudar o Teclado        numérico entre caracteres e teclas funcionais de direção. Entretanto, não é possível         configurar teclas direcionais nesse tipo de script.                3 -> Não localizei o código da tecla "Insert". Quem conseguir, me avise.--><keyboard group="0" id="4242" name="Brasil Note" maxout="2">    <layouts>        <layout first="0" last="0" modifiers="modificadoresPadrao" mapSet="ANSI"/>    </layouts>        <modifierMap id="modificadoresPadrao" defaultIndex="0">    <!-- Teclas de comando direito e esquerdo não são diferenciados, logo só se usará "any" -->                           <keyMapSelect mapIndex="0">        <!-- Posicao padrao, nada foi precionado. Tambem funciona se o super estiver precionado -->            <modifier keys="command?"/>          <!-- O super foi precionado com ou sem Shift e Caps Lock -->            <modifier keys="anyShift? command caps?"/>         </keyMapSelect>        <keyMapSelect mapIndex="1">        <!-- Apenas Shift foi precionado, descarta se CapsLock esta ou não ativado -->            <modifier keys="anyShift caps?"/>        </keyMapSelect>        <keyMapSelect mapIndex="2">        <!-- Apenas o CapsLock foi precionado -->            <modifier keys="caps"/>        </keyMapSelect>        <keyMapSelect mapIndex="3">        <!-- Apenas o alt foi precionado, reproduzirá o que aparece no Linux -->                <modifier keys="anyOption"/>        </keyMapSelect>        <keyMapSelect mapIndex="4">        <!-- Alt, Shift e super foram precionados, descarta o Caps Lock. Reproduz os                  caracteres Alt do Mac -->                    <modifier keys="anyOption anyShift command caps?"/>        </keyMapSelect>        <keyMapSelect mapIndex="5">        <!-- Alt foi precionado com Caps Lock ativado. O linux não usa essa combinação -->            <modifier keys="anyOption caps"/>        </keyMapSelect>                <keyMapSelect mapIndex="6">        <!-- Shift e Alt foram precionados, descarta o super e o Caps Lock -->            <modifier keys="anyOption anyShift caps?"/>        </keyMapSelect>    </modifierMap>    <keyMapSet id="ANSI">        <keyMap index="0">     <!-- Teclado Principal - O retangulo principal com letrar e números -->    <!-- Foi mapeado de cima para baixo, da esquerda para direita -->        <!-- Primeira Linha - Numeros -->            <key code="50"  output="'"></key>            <key code="18"  output="1"></key>            <key code="19"  output="2"></key>            <key code="20"  output="3"></key>            <key code="21"  output="4"></key>            <key code="23"  output="5"></key>            <key code="22"  output="6"></key>            <key code="26"  output="7"></key>            <key code="28"  output="8"></key>            <key code="25"  output="9"></key>            <key code="29"  output="0"></key>            <key code="27"  output="-"></key>                <key code="24"  output="="></key>            <key code="51"  action="Backspace"></key>        <!-- Segunda linha - qwert... -->            <key code="48"  action="Tab"></key>            <key code="12"  action="q"></key>            <key code="13"  action="w"></key>            <key code="14"  action="e"></key>            <key code="15"  action="r"></key>            <key code="17"  action="t"></key>            <key code="16"  action="y"></key>            <key code="32"  action="u"></key>            <key code="34"  action="i"></key>            <key code="31"  action="o"></key>            <key code="35"  action="p"></key>            <key code="33"  action="agudo"></key>            <key code="30"  output="["></key>            <!--   <key code="36"  action="Enter"></key>   Mudou enter de lugar -->            <key code="42"  output="]"></key>  <!-- Tecla Adicionada -->        <!-- Terceira linha - asdfg... -->                <key code="0"   action="a"></key>            <key code="1"   action="s"></key>            <key code="2"   action="d"></key>            <key code="3"   action="f"></key>            <key code="5"   action="g"></key>            <key code="4"   action="h"></key>            <key code="38"  action="j"></key>            <key code="40"  action="k"></key>            <key code="37"  action="l"></key>            <key code="41"  action="ç"></key>            <key code="39"  action="til"></key>            <!--    <key code="42"  output="]"></key>     Tecla retirada -->            <key code="36"  action="Enter"></key>        <!-- Mudou enter de lugar -->            <!-- Quarta Linha - zxcvb -->            <!--    <key code="10"  output="\"></key>     Tecla Retirada -->            <key code="6"   action="z"></key>            <key code="7"   action="x"></key>            <key code="8"   action="c"></key>            <key code="9"   action="v"></key>            <key code="11"  action="b"></key>            <key code="45"  action="n"></key>            <key code="46"  action="m"></key>            <key code="43"  output=","></key>            <key code="47"  output="."></key>            <key code="44"  output=";"></key>            <!--    <key code="94"  output="/"></key>     Tecla Retirada -->        <!-- Quinta Linha - espaco -->            <key code="49"  action=" "></key>            <!--    <key code="110" action="Menu Key"></key>   Tecla Retirada -->        <!-- Parte superior - Onde ficam as teclas F1, F2 ... F12 -->            <key code="53"  action="Esc"></key>            <key code="122" action="F1-F12"></key>            <key code="120" action="F1-F12"></key>            <key code="99"  action="F1-F12"></key>            <key code="118" action="F1-F12"></key>            <key code="96"  action="F1-F12"></key>            <key code="97"  action="F1-F12"></key>            <key code="98"  action="F1-F12"></key>            <key code="100" action="F1-F12"></key>            <key code="101" action="F1-F12"></key>            <key code="109" action="F1-F12"></key>            <key code="103" action="F1-F12"></key>            <key code="111" action="F1-F12"></key>            <!-- Teclas Direcionais -->            <key code="126" action="Seta Cima"></key>            <key code="123" action="Seta Esquerda"></key>            <key code="125" action="Seta Baixo"></key>            <key code="124" action="Seta Direita"></key>        </keyMap>        <keyMap index="1">    <!-- Apenas Shift foi precionado, descarta se CapsLock esta ou não ativado -->    <!-- Teclado Principal - O retangulo principal com letrar e números -->        <!-- Primeira Linha - Numeros -->            <key code="50"  action="Aspa"></key>            <key code="18"  output="!"></key>            <key code="19"  output="@"></key>            <key code="20"  output="#"></key>            <key code="21"  output="$"></key>            <key code="23"  output="%"></key>            <key code="22"  action="trema"></key>            <key code="26"  action="E-comercial"></key>            <key code="28"  output="*"></key>            <key code="25"  output="("></key>            <key code="29"  output=")"></key>            <key code="27"  output="_"></key>                <key code="24"  output="+"></key>            <key code="51"  action="Backspace"></key>        <!-- Segunda linha - qwert... -->            <key code="48"  action="Tab"></key>            <key code="12"  action="Q"></key>            <key code="13"  action="W"></key>            <key code="14"  action="E"></key>            <key code="15"  action="R"></key>            <key code="17"  action="T"></key>            <key code="16"  action="Y"></key>            <key code="32"  action="U"></key>            <key code="34"  action="I"></key>            <key code="31"  action="O"></key>            <key code="35"  action="P"></key>            <key code="33"  action="grave"></key>            <key code="30"  output="{"></key>            <!--   <key code="36"  action="Enter"></key>   Mudou enter de lugar -->            <key code="42"  output="}"></key>  <!-- Tecla Adicionada -->        <!-- Terceira linha - asdfg... -->                <key code="0"   action="A"></key>            <key code="1"   action="S"></key>            <key code="2"   action="D"></key>            <key code="3"   action="F"></key>            <key code="5"   action="G"></key>            <key code="4"   action="H"></key>            <key code="38"  action="J"></key>            <key code="40"  action="K"></key>            <key code="37"  action="L"></key>            <key code="41"  action="Ç"></key>            <key code="39"  action="circunflexo"></key>            <!--    <key code="42"  output="}"></key>     Tecla Retirada -->            <key code="36"  action="Enter"></key>        <!-- Mudou enter de lugar -->                       <!-- Quarta Linha - zxcvb -->            <!--    <key code="10"  output="|"></key>     Tecla Retirada -->            <key code="6"   action="Z"></key>            <key code="7"   action="X"></key>            <key code="8"   action="C"></key>            <key code="9"   action="V"></key>            <key code="11"  action="B"></key>             <key code="45"  action="N"></key>            <key code="46"  action="M"></key>            <key code="43"  action="Menor"></key>            <key code="47"  action="Maior"></key>            <key code="44"  output=":"></key>            <!--    <key code="94"  output="?"></key>     Tecla Retirada -->        <!-- Quinta Linha - espaco -->            <key code="49"  action=" "></key>            <!--    <key code="110" action="Menu Key"></key>     Tecla Retirada -->            <!-- Parte superior - Onde ficam as teclas F1, F2 ... F12 -->            <key code="53"  action="Esc"></key>            <key code="122" action="F1-F12"></key>            <key code="120" action="F1-F12"></key>            <key code="99"  action="F1-F12"></key>            <key code="118" action="F1-F12"></key>            <key code="96"  action="F1-F12"></key>            <key code="97"  action="F1-F12"></key>            <key code="98"  action="F1-F12"></key>            <key code="100" action="F1-F12"></key>            <key code="101" action="F1-F12"></key>            <key code="109" action="F1-F12"></key>            <key code="103" action="F1-F12"></key>            <key code="111" action="F1-F12"></key>            <!-- Teclas Direcionais -->            <key code="126" action="Seta Cima"></key>            <key code="123" action="Seta Esquerda"></key>            <key code="125" action="Seta Baixo"></key>            <key code="124" action="Seta Direita"></key>        </keyMap>        <keyMap index="2">    <!-- Apenas o CapsLock foi precionado -->    <!-- Teclado Principal - O retangulo principal com letrar e números -->        <!-- Primeira Linha - Numeros -->            <key code="50"  output="'"></key>            <key code="18"  output="1"></key>            <key code="19"  output="2"></key>            <key code="20"  output="3"></key>            <key code="21"  output="4"></key>            <key code="23"  output="5"></key>            <key code="22"  output="6"></key>            <key code="26"  output="7"></key>            <key code="28"  output="8"></key>            <key code="25"  output="9"></key>            <key code="29"  output="0"></key>            <key code="27"  output="-"></key>                <key code="24"  output="="></key>            <key code="51"  action="Backspace"></key>        <!-- Segunda linha - qwert... -->            <key code="48"  action="Tab"></key>            <key code="12"  action="Q"></key>            <key code="13"  action="W"></key>            <key code="14"  action="E"></key>            <key code="15"  action="R"></key>            <key code="17"  action="T"></key>            <key code="16"  action="Y"></key>            <key code="32"  action="U"></key>            <key code="34"  action="I"></key>            <key code="31"  action="O"></key>            <key code="35"  action="P"></key>            <key code="33"  action="agudo"></key>            <key code="30"  output="["></key>            <!--   <key code="36"  action="Enter"></key>   Mudou enter de lugar -->            <key code="42"  output="]"></key>  <!-- Tecla Adicionada -->        <!-- Terceira linha - asdfg... -->                <key code="0"   action="A"></key>            <key code="1"   action="S"></key>            <key code="2"   action="D"></key>            <key code="3"   action="F"></key>            <key code="5"   action="G"></key>            <key code="4"   action="H"></key>            <key code="38"  action="J"></key>            <key code="40"  action="K"></key>            <key code="37"  action="L"></key>            <key code="41"  action="Ç"></key>            <key code="39"  action="til"></key>            <!--    <key code="42"  output="]"></key>     Tecla Retirada -->            <key code="36"  action="Enter"></key>        <!-- Mudou enter de lugar -->                       <!-- Quarta Linha - zxcvb -->            <!--    <key code="10"  output="\"></key>     Tecla Retirada -->            <key code="6"   action="Z"></key>            <key code="7"   action="X"></key>            <key code="8"   action="C"></key>            <key code="9"   action="V"></key>            <key code="11"  action="B"></key>            <key code="45"  action="N"></key>            <key code="46"  action="M"></key>            <key code="43"  output=","></key>            <key code="47"  output="."></key>            <key code="44"  output=";"></key>            <!--    <key code="94"  output="/"></key>     Tecla Retirada -->        <!-- Quinta Linha - espaco -->            <key code="49"  action=" "></key>            <!--    <key code="110" action="Menu Key"></key>     Tecla Retirada -->            <!-- Parte superior - Onde ficam as teclas F1, F2 ... F12 -->            <key code="53"  action="Esc"></key>            <key code="122" action="F1-F12"></key>            <key code="120" action="F1-F12"></key>            <key code="99"  action="F1-F12"></key>            <key code="118" action="F1-F12"></key>            <key code="96"  action="F1-F12"></key>            <key code="97"  action="F1-F12"></key>            <key code="98"  action="F1-F12"></key>            <key code="100" action="F1-F12"></key>            <key code="101" action="F1-F12"></key>            <key code="109" action="F1-F12"></key>            <key code="103" action="F1-F12"></key>            <key code="111" action="F1-F12"></key>            <!-- Teclas Direcionais -->            <key code="126" action="Seta Cima"></key>            <key code="123" action="Seta Esquerda"></key>            <key code="125" action="Seta Baixo"></key>            <key code="124" action="Seta Direita"></key>        </keyMap>        <keyMap index="3">    <!-- Apenas o alt foi precionado, reproduzirá o que aparece no Linux -->       <!-- Teclado Principal - O retangulo principal com letrar e números -->        <!-- Primeira Linha - Numeros -->            <key code="50"  output="¬"></key>            <key code="18"  output="¹"></key>            <key code="19"  output="²"></key>            <key code="20"  output="³"></key>            <key code="21"  output="£"></key>            <key code="23"  output="¢"></key>            <key code="22"  output="¬"></key>            <key code="26"  output="("></key>            <key code="28"  output="["></key>            <key code="25"  output="]"></key>            <key code="29"  output=")"></key>            <key code="27"  output="\"></key>                <key code="24"  output="§"></key>            <key code="51"  action="Backspace"></key>        <!-- Segunda linha - qwert... -->            <key code="48"  action="Tab"></key>            <key code="12"  output="/"></key>            <key code="13"  output="?"></key>            <key code="14"  output="€"></key>            <key code="15"  output="®"></key>            <key code="17"  output="ŧ"></key>            <key code="16"  output="←"></key>            <key code="32"  output="↓"></key>            <key code="34"  output="→"></key>            <key code="31"  output="ø"></key>            <key code="35"  output="þ"></key>            <key code="33"  action="agudo"></key>            <key code="30"  output="ª"></key>            <!--   <key code="36"  action="Enter"></key>   Mudou enter de lugar -->            <key code="42"  output="º"></key>  <!-- Tecla Adicionada -->        <!-- Terceira linha - asdfg... -->                <key code="0"   output="æ"></key>            <key code="1"   output="ß"></key>            <key code="2"   output="ð"></key>            <key code="3"   output="đ"></key>            <key code="5"   output="ŋ"></key>            <key code="4"   output="ħ"></key>            <key code="38"  output="j"></key>            <key code="40"  output="ĸ"></key>            <key code="37"  output="ł"></key>            <key code="41"  action="agudo"></key>            <key code="39"  action="til"></key>            <!--    <key code="42"  output="º"></key>     Tecla Retirada -->            <key code="36"  action="Enter"></key>        <!-- Mudou enter de lugar -->                       <!-- Quarta Linha - zxcvb -->            <!--    <key code="10"  output="º"></key>     Tecla Retirada --><!-- As duas teclas abaixo são as únicas com valores modificadas em todo o script em relação ao     layout do teclado PC.    -->            <key code="6"   output="\"></key> <!-- Valor modificado, original era "«" -->            <key code="7"   output="|"></key> <!-- Valor modificado, original era "»" -->            <key code="8"   output="©"></key>            <key code="9"   output="“"></key>            <key code="11"  output="”"></key>            <key code="45"  output="n"></key>            <key code="46"  output="µ"></key>            <key code="43"  output=" "></key>            <key code="47"  action="ponto"></key>            <key code="44"  output="̣"></key>            <!--    <key code="94"  output="°"></key>     Tecla Retirada -->        <!-- Quinta Linha - espaco -->            <key code="49"  action=" "></key>            <!--    <key code="110" action="Menu Key"></key>     Tecla Retirada -->        <!-- Parte superior - Onde ficam as teclas F1, F2 ... F12 -->            <key code="53"  action="Esc"></key>            <key code="122" action="F1-F12"></key>            <key code="120" action="F1-F12"></key>            <key code="99"  action="F1-F12"></key>            <key code="118" action="F1-F12"></key>            <key code="96"  action="F1-F12"></key>            <key code="97"  action="F1-F12"></key>            <key code="98"  action="F1-F12"></key>            <key code="100" action="F1-F12"></key>            <key code="101" action="F1-F12"></key>            <key code="109" action="F1-F12"></key>            <key code="103" action="F1-F12"></key>            <key code="111" action="F1-F12"></key>            <!-- Teclas Direcionais -->            <key code="126" action="Seta Cima"></key>            <key code="123" action="Seta Esquerda"></key>            <key code="125" action="Seta Baixo"></key>            <key code="124" action="Seta Direita"></key>        </keyMap>        <keyMap index="4">    <!-- Alt, Shift e super foram precionados, descarta o Caps Lock. Reproduz os caracteres Alt do Mac -->      <!-- Teclado Principal - O retangulo principal com letrar e números -->        <!-- Primeira Linha - Numeros -->            <key code="50"  action="grave"></key>            <key code="18"  output="¡"></key>            <key code="19"  output="™"></key>            <key code="20"  output="£"></key>            <key code="21"  output="¢"></key>            <key code="23"  output="∞"></key>            <key code="22"  output="§"></key>            <key code="26"  output="¶"></key>            <key code="28"  output="•"></key>            <key code="25"  output="ª"></key>            <key code="29"  output="º"></key>            <key code="27"  output="–"></key>                <key code="24"  output="≠"></key>            <key code="51"  action="Backspace"></key>        <!-- Segunda linha - qwert... -->            <key code="48"  action="Tab"></key>            <key code="12"  output="œ"></key>            <key code="13"  output="∑"></key>            <key code="14"  action="agudo"></key>            <key code="15"  output="®"></key>            <key code="17"  output="†"></key>            <key code="16"  output="¥"></key>            <key code="32"  action="trema"></key>            <key code="34"  action="circunflexo"></key>            <key code="31"  output="ø"></key>            <key code="35"  output="π"></key>            <key code="33"  output="“"></key>            <key code="30"  output="‘"></key>            <!--   <key code="36"  action="Enter"></key>   Mudou enter de lugar -->            <key code="42"  output="«"></key>  <!-- Tecla Adicionada -->        <!-- Terceira linha - asdfg... -->                <key code="0"   output="å"></key>            <key code="1"   output="ß"></key>            <key code="2"   output="∂"></key>            <key code="3"   output="ƒ"></key>            <key code="5"   output="©"></key>            <key code="4"   output="˙"></key>            <key code="38"  output="∆"></key>            <key code="40"  output="˚"></key>            <key code="37"  output="¬"></key>            <key code="41"  output="…"></key>            <key code="39"  output="æ"></key>            <!--    <key code="42"  output="«"></key>     Tecla Retirada -->            <key code="36"  action="Enter"></key>        <!-- Mudou enter de lugar -->                       <!-- Quarta Linha - zxcvb -->            <!--    <key code="10"  output="§"></key>     Tecla Retirada -->            <key code="6"   output="Ω"></key>            <key code="7"   output="≈"></key>            <key code="8"   output="ç"></key>            <key code="9"   output="√"></key>            <key code="11"  output="∫"></key>            <key code="45"  action="til"></key>            <key code="46"  output="µ"></key>            <key code="43"  output="≤"></key>            <key code="47"  output="≥"></key>            <key code="44"  output="÷"></key>            <!--    <key code="94"  output="°"></key>     Tecla Retirada -->        <!-- Quinta Linha - espaco -->            <key code="49"  action=" "></key>            <!--    <key code="110" action="Menu Key"></key>     Tecla Retirada -->        <!-- Parte superior - Onde ficam as teclas F1, F2 ... F12 -->            <key code="53"  action="Esc"></key>            <key code="122" action="F1-F12"></key>            <key code="120" action="F1-F12"></key>            <key code="99"  action="F1-F12"></key>            <key code="118" action="F1-F12"></key>            <key code="96"  action="F1-F12"></key>            <key code="97"  action="F1-F12"></key>            <key code="98"  action="F1-F12"></key>            <key code="100" action="F1-F12"></key>            <key code="101" action="F1-F12"></key>            <key code="109" action="F1-F12"></key>            <key code="103" action="F1-F12"></key>            <key code="111" action="F1-F12"></key>        <!-- Teclas Direcionais -->            <key code="126" action="Seta Cima"></key>            <key code="123" action="Seta Esquerda"></key>            <key code="125" action="Seta Baixo"></key>            <key code="124" action="Seta Direita"></key>        </keyMap>        <keyMap index="5">    <!-- Alt foi precionado com Caps Lock ativado. O linux não usa essa combinação -->    <!-- Teclado Principal - O retangulo principal com letrar e números -->        <!-- Primeira Linha - Numeros -->            <key code="50"  output="`"></key>            <key code="18"  output="⁄"></key>            <key code="19"  output="€"></key>            <key code="20"  output="‹"></key>            <key code="21"  output="›"></key>            <key code="23"  output="ﬁ"></key>            <key code="22"  output="ﬂ"></key>            <key code="26"  output="‡"></key>            <key code="28"  output="°"></key>            <key code="25"  output="·"></key>            <key code="29"  output="‚"></key>            <key code="27"  output="—"></key>                <key code="24"  output="±"></key>            <key code="51"  action="Backspace"></key>        <!-- Segunda linha - qwert... -->            <key code="48"  action="Tab"></key>            <key code="12"  output="Œ"></key>            <key code="13"  output="„"></key>            <key code="14"  output="´"></key>            <key code="15"  output="‰"></key>            <key code="17"  output="ˇ"></key>            <key code="16"  output="Á"></key>            <key code="32"  output="¨"></key>            <key code="34"  output="ˆ"></key>            <key code="31"  output="Ø"></key>            <key code="35"  output="∏"></key>            <key code="33"  output="”"></key>            <key code="30"  output="’"></key>            <!--   <key code="36"  action="Enter"></key>   Mudou enter de lugar -->            <key code="42"  output="»"></key>  <!-- Tecla Adicionada -->        <!-- Terceira linha - asdfg... -->                <key code="0"   output="Å"></key>            <key code="1"   output="Í"></key>            <key code="2"   output="Î"></key>            <key code="3"   output="Ï"></key>            <key code="5"   output="˝"></key>            <key code="4"   output="Ó"></key>            <key code="38"  output="Ô"></key>            <key code="40"  output=""></key>            <key code="37"  output="Ò"></key>            <key code="41"  output="Ú"></key>            <key code="39"  output="Æ"></key>            <!--    <key code="42"  output="»"></key>     Tecla Retirada -->            <key code="36"  action="Enter"></key>        <!-- Mudou enter de lugar -->                       <!-- Quarta Linha - zxcvb -->            <!--    <key code="10"  output="±"></key>     Tecla Retirada -->            <key code="6"   output="¸"></key>            <key code="7"   output="˛"></key>            <key code="8"   output="Ç"></key>            <key code="9"   output="◊"></key>            <key code="11"  output="ı"></key>            <key code="45"  output="˜"></key>            <key code="46"  output="Â"></key>            <key code="43"  output="¯"></key>            <key code="47"  output="˘"></key>            <key code="44"  output="¿"></key>            <!--    <key code="94"  output="?"></key>     Tecla Retirada -->        <!-- Quinta Linha - espaco -->            <key code="49"  action=" "></key>            <!--    <key code="110" action="Menu Key"></key>     Tecla Retirada -->        <!-- Parte superior - Onde ficam as teclas F1, F2 ... F12 -->            <key code="53"  action="Esc"></key>            <key code="122" action="F1-F12"></key>            <key code="120" action="F1-F12"></key>            <key code="99"  action="F1-F12"></key>            <key code="118" action="F1-F12"></key>            <key code="96"  action="F1-F12"></key>            <key code="97"  action="F1-F12"></key>            <key code="98"  action="F1-F12"></key>            <key code="100" action="F1-F12"></key>            <key code="101" action="F1-F12"></key>            <key code="109" action="F1-F12"></key>            <key code="103" action="F1-F12"></key>            <key code="111" action="F1-F12"></key>        <!-- Teclas Direcionais -->            <key code="126" action="Seta Cima"></key>            <key code="123" action="Seta Esquerda"></key>            <key code="125" action="Seta Baixo"></key>            <key code="124" action="Seta Direita"></key>        </keyMap>        <keyMap index="6">    <!-- Shift e Alt foram precionados, descarta o super e o Caps Lock -->            <!-- Teclado Principal - O retangulo principal com letrar e números -->        <!-- Primeira Linha - Numeros -->            <key code="50"  output="`"></key>            <key code="18"  output="⁄"></key>            <key code="19"  output="€"></key>            <key code="20"  output="‹"></key>            <key code="21"  output="›"></key>            <key code="23"  output="ﬁ"></key>            <key code="22"  output="ﬂ"></key>            <key code="26"  output="‡"></key>            <key code="28"  output="°"></key>            <key code="25"  output="·"></key>            <key code="29"  output="‚"></key>            <key code="27"  output="—"></key>                <key code="24"  output="±"></key>            <key code="51"  action="Backspace"></key>        <!-- Segunda linha - qwert... -->            <key code="48"  action="Tab"></key>            <key code="12"  output="Œ"></key>            <key code="13"  output="„"></key>            <key code="14"  output="´"></key>            <key code="15"  output="‰"></key>            <key code="17"  output="ˇ"></key>            <key code="16"  output="Á"></key>            <key code="32"  output="¨"></key>            <key code="34"  output="ˆ"></key>            <key code="31"  output="Ø"></key>            <key code="35"  output="∏"></key>            <key code="33"  output="”"></key>            <key code="30"  output="’"></key>            <!--   <key code="36"  action="Enter"></key>   Mudou enter de lugar -->            <key code="42"  output="»"></key>  <!-- Tecla Adicionada -->                    <!-- Terceira linha - asdfg... -->                <key code="0"   output="Å"></key>            <key code="1"   output="Í"></key>            <key code="2"   output="Î"></key>            <key code="3"   output="Ï"></key>            <key code="5"   output="˝"></key>            <key code="4"   output="Ó"></key>            <key code="38"  output="Ô"></key>            <key code="40"  output=""></key>            <key code="37"  output="Ò"></key>            <key code="41"  output="Ú"></key>            <key code="39"  output="Æ"></key>            <!--    <key code="42"  output="»"></key>     Tecla Retirada -->            <key code="36"  action="Enter"></key>        <!-- Mudou enter de lugar -->                       <!-- Quarta Linha - zxcvb -->            <!--    <key code="10"  output="±"></key>     Tecla Retirada -->                        <key code="6"   output="¸"></key>            <key code="7"   output="˛"></key>            <key code="8"   output="Ç"></key>            <key code="9"   output="◊"></key>            <key code="11"  output="ı"></key>            <key code="45"  output="˜"></key>            <key code="46"  output="Â"></key>            <key code="43"  output="¯"></key>            <key code="47"  output="˘"></key>            <key code="44"  output="¿"></key>            <!--    <key code="94"  output="?"></key>     Tecla Retirada -->        <!-- Quinta Linha - espaco -->            <key code="49"  action=" "></key>            <!--    <key code="110" action="Menu Key"></key>     Tecla Retirada -->        <!-- Parte superior - Onde ficam as teclas F1, F2 ... F12 -->            <key code="53"  action="Esc"></key>            <key code="122" action="F1-F12"></key>            <key code="120" action="F1-F12"></key>            <key code="99"  action="F1-F12"></key>            <key code="118" action="F1-F12"></key>            <key code="96"  action="F1-F12"></key>            <key code="97"  action="F1-F12"></key>            <key code="98"  action="F1-F12"></key>            <key code="100" action="F1-F12"></key>            <key code="101" action="F1-F12"></key>            <key code="109" action="F1-F12"></key>            <key code="103" action="F1-F12"></key>            <key code="111" action="F1-F12"></key>            <!-- Teclas Direcionais -->            <key code="126" action="Seta Cima"></key>            <key code="123" action="Seta Esquerda"></key>            <key code="125" action="Seta Baixo"></key>            <key code="124" action="Seta Direita"></key>        </keyMap>    </keyMapSet>    <actions>        <action id="Backspace">     <when state="none" output="&#x0008;"/> </action>        <action id="Enter">         <when state="none" output="&#x000d;"/> </action>        <action id="Esc">           <when state="none" output="&#x001b;"/> </action>        <action id="F1-F12">        <when state="none" output="&#x0010;"/> </action>        <action id="Tab">           <when state="none" output="&#x0009;"/> </action>                       <action id="Seta Cima">     <when state="none" output="&#x001e;"/> </action>        <action id="Seta Esquerda"> <when state="none" output="&#x001c;"/> </action>        <action id="Seta Baixo">    <when state="none" output="&#x001f;"/> </action>        <action id="Seta Direita">  <when state="none" output="&#x001d;"/> </action>    <!-- Teclas que não podem ser colocadas diretamente, pois afetam a sintaxe da linguagem XML -->        <action id="Aspa">          <when state="none" output="&#x0022;"/> </action>            <action id="E-comercial">   <when state="none" output="&#x0026;"/> </action>            <action id="Menor">         <when state="none" output="&#x003C;"/> </action>        <action id="Maior">         <when state="none" output="&#x003E;"/> </action>            <!-- Fotam colocadas todas as regras de forma direta para facilitar o script -->            <action id="q">            <when state="none"        output="q"/>            <when state="agudo"       next  ="erro"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>            <when state="ponto"       next  ="erro"/>            </action>        <action id="Q">            <when state="none"        output="Q"/>            <when state="agudo"       next  ="erro"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>            <when state="ponto"       next  ="erro"/>                </action>        <action id="w">            <when state="none"        output="w"/>            <when state="agudo"       output="ẃ"/>            <when state="grave"       output="ẁ"/>            <when state="til"         next  ="erro"/>                    <when state="circunflexo" output="ŵ"/>            <when state="trema"       output="ẅ"/>            <when state="ponto"       output="ẉ"/>        </action>        <action id="W">            <when state="none"        output="W"/>            <when state="agudo"       output="Ẃ"/>            <when state="grave"       output="Ẁ"/>            <when state="til"         next  ="erro"/>                    <when state="circunflexo" output="Ŵ"/>            <when state="trema"       output="Ẅ"/>            <when state="ponto"       output="Ẉ"/>        </action>        <action id="e">            <when state="none"        output="e"/>            <when state="agudo"       output="é"/>            <when state="grave"       output="è"/>            <when state="til"         output="ẽ"/>            <when state="circunflexo" output="ê"/>            <when state="trema"       output="ë"/>            <when state="ponto"       output="ẹ"/>        </action>        <action id="E">            <when state="none"        output="E"/>            <when state="agudo"       output="É"/>            <when state="grave"       output="È"/>            <when state="til"         output="Ẽ"/>            <when state="circunflexo" output="Ê"/>            <when state="trema"       output="Ë"/>            <when state="ponto"       output="Ẹ"/>        </action>        <action id="r">            <when state="none"        output="r"/>            <when state="agudo"       output="ŕ"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>                    <when state="ponto"       output="ṛ"/>        </action>        <action id="R">            <when state="none"        output="R"/>            <when state="agudo"       output="Ŕ"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>                    <when state="ponto"       output="Ṛ"/>        </action>            <action id="t">            <when state="none"        output="t"/>            <when state="agudo"       next  ="erro"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>                    <when state="trema"       output="ẗ"/>            <when state="ponto"       output="ṭ"/>        </action>        <action id="T">            <when state="none"        output="T"/>            <when state="agudo"       next  ="erro"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>                    <when state="ponto"       output="Ṭ"/>        </action>            <action id="y">            <when state="none"        output="y"/>            <when state="agudo"       output="ý"/>            <when state="grave"       output="ỳ"/>            <when state="til"         output="ỹ"/>            <when state="circunflexo" output="ŷ"/>            <when state="trema"       output="ÿ"/>            <when state="ponto"       output="ỵ"/>        </action>        <action id="Y">            <when state="none"        output="Y"/>            <when state="agudo"       output="Ý"/>            <when state="grave"       output="Ỳ"/>            <when state="til"         output="Ỹ"/>            <when state="circunflexo" output="Ŷ"/>            <when state="trema"       output="Ÿ"/>            <when state="ponto"       output="Ỵ"/>        </action>            <action id="u">            <when state="none"        output="u"/>            <when state="agudo"       output="ú"/>            <when state="grave"       output="ù"/>            <when state="til"         output="ũ"/>            <when state="circunflexo" output="û"/>            <when state="trema"       output="ü"/>            <when state="ponto"       output="ụ"/>        </action>        <action id="U">            <when state="none"        output="U"/>            <when state="agudo"       output="Ú"/>            <when state="grave"       output="Ù"/>            <when state="til"         output="Ũ"/>            <when state="circunflexo" output="Û"/>            <when state="trema"       output="Ü"/>            <when state="ponto"       output="Ụ"/>        </action>            <action id="i">            <when state="none"        output="i"/>            <when state="agudo"       output="í"/>            <when state="grave"       output="ì"/>            <when state="til"         output="ĩ"/>            <when state="circunflexo" output="î"/>            <when state="trema"       output="ï"/>            <when state="ponto"       output="ị"/>        </action>        <action id="I">            <when state="none"        output="I"/>            <when state="agudo"       output="Í"/>            <when state="grave"       output="Ì"/>            <when state="til"         output="Ĩ"/>            <when state="circunflexo" output="Î"/>            <when state="trema"       output="Ï"/>            <when state="ponto"       output="Ị"/>        </action>            <action id="o">            <when state="none"        output="o"/>            <when state="agudo"       output="ó"/>            <when state="grave"       output="ò"/>            <when state="til"         output="õ"/>            <when state="circunflexo" output="ô"/>            <when state="trema"       output="ö"/>            <when state="ponto"       output="ọ"/>        </action>        <action id="O">            <when state="none"        output="O"/>            <when state="agudo"       output="Ó"/>            <when state="grave"       output="Ò"/>            <when state="til"         output="Õ"/>            <when state="circunflexo" output="Ô"/>            <when state="trema"       output="Ö"/>            <when state="ponto"       output="Ọ"/>        </action>            <action id="p">            <when state="none"        output="p"/>            <when state="agudo"       output="ṕ"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>            <when state="ponto"       next  ="erro"/>                </action>        <action id="P">            <when state="none"        output="P"/>            <when state="agudo"       output="Ṕ"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>            <when state="ponto"       next  ="erro"/>                </action>            <action id="a">            <when state="none"        output="a"/>            <when state="agudo"       output="á"/>            <when state="grave"       output="à"/>            <when state="til"         output="ã"/>            <when state="circunflexo" output="â"/>            <when state="trema"       output="ä"/>            <when state="ponto"       output="ạ"/>        </action>        <action id="A">            <when state="none"        output="A"/>            <when state="agudo"       output="Á"/>            <when state="grave"       output="À"/>            <when state="til"         output="Ã"/>            <when state="circunflexo" output="Â"/>            <when state="trema"       output="Ä"/>            <when state="ponto"       output="Ạ"/>        </action>            <action id="s">            <when state="none"        output="s"/>            <when state="agudo"       output="ś"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>                    <when state="ponto"       output="ṣ"/>        </action>        <action id="S">            <when state="none"        output="S"/>            <when state="agudo"       output="Ś"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>            <when state="ponto"       output="Ṣ"/>        </action>            <action id="d">            <when state="none"        output="d"/>            <when state="agudo"       next  ="erro"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>                    <when state="ponto"       output="ḍ"/>        </action>        <action id="D">            <when state="none"        output="D"/>            <when state="agudo"       next  ="erro"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>                    <when state="ponto"       output="Ḍ"/>        </action>            <action id="f">            <when state="none"        output="f"/>            <when state="agudo"       next  ="erro"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>            <when state="ponto"       next  ="erro"/>                </action>        <action id="F">            <when state="none"        output="F"/>            <when state="agudo"       next  ="erro"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>            <when state="ponto"       next  ="erro"/>                </action>            <action id="g">            <when state="none"        output="g"/>            <when state="agudo"       output="ǵ"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>            <when state="ponto"       next  ="erro"/>                </action>        <action id="G">            <when state="none"        output="G"/>            <when state="agudo"       output="Ǵ"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>            <when state="ponto"       next  ="erro"/>                </action>            <action id="h">            <when state="none"        output="h"/>            <when state="agudo"       next  ="erro"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>                    <when state="circunflexo" output="ĥ"/>            <when state="trema"       output="ḧ"/>            <when state="ponto"       output="ḥ"/>        </action>        <action id="H">            <when state="none"        output="H"/>            <when state="agudo"       next  ="erro"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>                    <when state="circunflexo" output="Ĥ"/>            <when state="trema"       output="Ḧ"/>            <when state="ponto"       output="Ḥ"/>        </action>                <action id="j">                <when state="none"        output="j"/>            <when state="agudo"       next  ="erro"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>                    <when state="circunflexo" output="ĵ"/>            <when state="trema"       next  ="erro"/>            <when state="ponto"       next  ="erro"/>                </action>        <action id="J">            <when state="none"        output="J"/>            <when state="agudo"       next  ="erro"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>                    <when state="circunflexo" output="Ĵ"/>            <when state="trema"       next  ="erro"/>            <when state="ponto"       next  ="erro"/>                </action>            <action id="k">            <when state="none"        output="k"/>            <when state="agudo"       output="ḱ"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>                    <when state="ponto"       output="ḳ"/>        </action>        <action id="K">            <when state="none"        output="K"/>            <when state="agudo"       output="Ḱ"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>            <when state="ponto"       output="Ḳ"/>        </action>            <action id="l">            <when state="none"        output="l"/>            <when state="agudo"       output="ĺ"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>                    <when state="ponto"       output="ḷ"/>        </action>        <action id="L">            <when state="none"        output="L"/>            <when state="agudo"       output="Ĺ"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>                    <when state="ponto"       output="Ḷ"/>        </action>            <action id="ç">            <when state="none"        output="ç"/>            <when state="agudo"       output="ḉ"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>            <when state="ponto"       next  ="erro"/>                </action>        <action id="Ç">            <when state="none"        output="Ç"/>            <when state="agudo"       output="Ḉ"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>            <when state="ponto"       next  ="erro"/>                </action>            <action id="z">            <when state="none"        output="z"/>            <when state="agudo"       output="ź"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>                    <when state="circunflexo" output="ẑ"/>            <when state="trema"       next  ="erro"/>                    <when state="ponto"       output="ẓ"/>        </action>        <action id="Z">            <when state="none"        output="Z"/>            <when state="agudo"       output="Ź"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>                    <when state="circunflexo" output="Ẑ"/>            <when state="trema"       next  ="erro"/>                    <when state="ponto"       output="Ẓ"/>        </action>            <action id="x">            <when state="none"        output="x"/>            <when state="agudo"       next  ="erro"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>                    <when state="trema"       output="ẍ"/>            <when state="ponto"       next  ="erro"/>                </action>        <action id="X">            <when state="none"        output="X"/>            <when state="agudo"       next  ="erro"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>                    <when state="trema"       output="Ẍ"/>            <when state="ponto"       next  ="erro"/>                </action>            <action id="c">            <when state="none"        output="c"/>            <when state="agudo"       output="ç"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>                    <when state="circunflexo" output="ĉ"/>            <when state="trema"       next  ="erro"/>            <when state="ponto"       next  ="erro"/>                </action>        <action id="C">            <when state="none"        output="C"/>            <when state="agudo"       output="Ç"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>                    <when state="circunflexo" output="Ĉ"/>            <when state="trema"       next  ="erro"/>            <when state="ponto"       next  ="erro"/>                </action>            <action id="v">            <when state="none"        output="v"/>            <when state="agudo"       output="ǘ"/>            <when state="grave"       output="ǜ"/>            <when state="til"         output="ṽ"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>                    <when state="ponto"       output="ṿ"/>        </action>        <action id="V">            <when state="none"        output="V"/>            <when state="agudo"       output="Ǘ"/>            <when state="grave"       output="Ǜ"/>            <when state="til"         output="Ṽ"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>                    <when state="ponto"       output="Ṿ"/>        </action>            <action id="b">            <when state="none"        output="b"/>            <when state="agudo"       next  ="erro"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>                    <when state="ponto"       output="ḅ"/>        </action>        <action id="B">            <when state="none"        output="B"/>            <when state="agudo"       next  ="erro"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>                    <when state="ponto"       output="Ḅ"/>        </action>            <action id="n">            <when state="none"        output="n"/>            <when state="agudo"       output="ń"/>            <when state="grave"       output="ǹ"/>            <when state="til"         output="ñ"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>                    <when state="ponto"       output="ṇ"/>        </action>        <action id="N">            <when state="none"        output="N"/>            <when state="agudo"       output="Ń"/>            <when state="grave"       output="Ǹ"/>            <when state="til"         output="Ñ"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>                    <when state="ponto"       output="Ṇ"/>        </action>            <action id="m">            <when state="none"        output="m"/>            <when state="agudo"       output="ḿ"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>                    <when state="ponto"       output="ṃ"/>        </action>        <action id="M">            <when state="none"        output="M"/>            <when state="agudo"       output="Ḿ"/>            <when state="grave"       next  ="erro"/>            <when state="til"         next  ="erro"/>            <when state="circunflexo" next  ="erro"/>            <when state="trema"       next  ="erro"/>                    <when state="ponto"       output="Ṃ"/>        </action>            <action id=" ">            <when state="none"        output=" "/>            <when state="agudo"       output="´"/>            <when state="grave"       output="`"/>            <when state="til"         output="~"/>            <when state="circunflexo" output="^"/>            <when state="trema"       output="¨"/>            <when state="ponto"       output="."/>        </action>        <action id="agudo">            <when state="none"        next="agudo"/>            <when state="agudo"       next="erro"/>        </action>        <action id="grave">            <when state="none"        next="grave"/>            <when state="grave"       next="erro"/>                </action>        <action id="til">            <when state="none"        next="til"/>            <when state="til"         next="erro"/>                </action>        <action id="circunflexo">            <when state="none"        next="circunflexo"/>        </action>        <action id="trema">            <when state="none"        next="trema"/>        </action>                <action id="ponto">            <when state="none"        next="ponto"/>        </action>    </actions>        <terminators>        <when state="agudo"       output="´"/>        <when state="erro"        output=""/>         <when state="grave"       output="`"/>        <when state="til"         output="~"/>        <when state="circunflexo" output="^"/>        <when state="trema"       output="¨"/>        <when state="ponto"       output="."/>    </terminators></keyboard>